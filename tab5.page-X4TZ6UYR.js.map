{
  "version": 3,
  "sources": ["src/app/tab5/tab5.page.ts", "src/app/tab5/tab5.page.html"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { DataService, Medicamento } from '../services/data'; // Importamos el servicio\r\n\r\n@Component({\r\n  selector: 'app-tab5',\r\n  templateUrl: './tab5.page.html',\r\n  styleUrls: ['./tab5.page.scss'],\r\n  standalone: true,\r\n  imports: [IonicModule, CommonModule, FormsModule]\r\n})\r\nexport class Tab5Page implements OnInit {\r\n\r\n  nuevoNombre: string = '';\r\n  nuevaCantidad: number | null = null;\r\n  medicamentos: Medicamento[] = []; // Ahora usamos la interfaz\r\n\r\n  constructor(private dataService: DataService) {}\r\n\r\n  ngOnInit() {\r\n    // Nos suscribimos a los datos globales\r\n    this.dataService.medicamentos$.subscribe(datos => {\r\n      this.medicamentos = datos;\r\n    });\r\n  }\r\n\r\n  agregarMedicamento() {\r\n    if (this.nuevoNombre.length === 0 || !this.nuevaCantidad) {\r\n      return; \r\n    }\r\n\r\n    const nuevo: Medicamento = {\r\n      nombre: this.nuevoNombre,\r\n      cantidadInicial: this.nuevaCantidad,\r\n      cantidadActual: this.nuevaCantidad,\r\n      progreso: 1.0\r\n    };\r\n\r\n    // Guardamos en el servicio global\r\n    this.dataService.agregarMedicamento(nuevo);\r\n\r\n    this.nuevoNombre = '';\r\n    this.nuevaCantidad = null;\r\n  }\r\n\r\n  // Esta función es solo para probar el botón \"-\" manual en el inventario\r\n  tomarDosisManual(med: Medicamento) {\r\n    this.dataService.descontarDosis(med.nombre);\r\n  }\r\n  \r\n  getColorBarra(progreso: number): string {\r\n    if (progreso > 0.5) return 'success';\r\n    if (progreso > 0.2) return 'warning';\r\n    return 'danger';\r\n  }\r\n}", "<ion-header [translucent]=\"true\" class=\"ion-no-border\">\r\n  <ion-toolbar>\r\n    <ion-title class=\"header-title\">Mi Botiquín</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\" class=\"bg-light ion-padding\">\r\n\r\n  <!-- SECCIÓN: AGREGAR NUEVO MEDICAMENTO -->\r\n  <div class=\"add-card\">\r\n    <h3>Nuevo Medicamento</h3>\r\n    \r\n    <ion-item lines=\"none\" class=\"custom-input\">\r\n      <ion-icon slot=\"start\" name=\"medkit-outline\" color=\"primary\"></ion-icon>\r\n      <ion-input [(ngModel)]=\"nuevoNombre\" placeholder=\"Nombre (ej. Aspirina)\"></ion-input>\r\n    </ion-item>\r\n\r\n    <ion-item lines=\"none\" class=\"custom-input\">\r\n      <ion-icon slot=\"start\" name=\"apps-outline\" color=\"primary\"></ion-icon>\r\n      <ion-input type=\"number\" [(ngModel)]=\"nuevaCantidad\" placeholder=\"Cantidad Total (ej. 30)\"></ion-input>\r\n    </ion-item>\r\n\r\n    <ion-button expand=\"block\" class=\"btn-add\" (click)=\"agregarMedicamento()\">\r\n      <ion-icon slot=\"start\" name=\"add\"></ion-icon>\r\n      Guardar en Inventario\r\n    </ion-button>\r\n  </div>\r\n\r\n  <h3 class=\"section-label\">Medicamentos Disponibles</h3>\r\n\r\n  <!-- LISTA DE INVENTARIO -->\r\n  <div class=\"inventory-list\">\r\n    \r\n    <div class=\"med-card\" *ngFor=\"let med of medicamentos\">\r\n      \r\n      <div class=\"med-info\">\r\n        <div class=\"top-row\">\r\n          <h2>{{ med.nombre }}</h2>\r\n          <!-- Badge que avisa si queda poco -->\r\n          <span class=\"badge\" [class.low-stock]=\"med.cantidadActual <= 3\">\r\n            {{ med.cantidadActual }} restantes\r\n          </span>\r\n        </div>\r\n\r\n        <!-- Barra de Progreso Visual -->\r\n        <ion-progress-bar \r\n          [value]=\"med.progreso\" \r\n          [color]=\"getColorBarra(med.progreso)\"\r\n          class=\"custom-progress\">\r\n        </ion-progress-bar>\r\n        \r\n        <p class=\"stats\">De {{ med.cantidadInicial }} unidades iniciales</p>\r\n      </div>\r\n\r\n      <!-- Botón para registrar toma MANUALMENTE desde el inventario -->\r\n      <div class=\"med-action\">\r\n        <ion-button fill=\"clear\" (click)=\"tomarDosisManual(med)\" [disabled]=\"med.cantidadActual === 0\">\r\n          <div class=\"btn-column\">\r\n            <ion-icon name=\"remove-circle-outline\" style=\"font-size: 28px;\"></ion-icon>\r\n            <span style=\"font-size: 10px;\">Restar 1</span>\r\n          </div>\r\n        </ion-button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!-- Mensaje vacío -->\r\n    <div *ngIf=\"medicamentos.length === 0\" class=\"empty-state\">\r\n      <p>Tu botiquín está vacío.</p>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</ion-content>"],
  "mappings": "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",
  "names": []
}
