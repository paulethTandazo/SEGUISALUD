import{a as J}from"./chunk-UALI6JCB.js";import{B as G,C as H,G as R,a as z,c as A,e as B,h as F,k as W,l as V,m as j,n as q,r as L}from"./chunk-YNM62QJP.js";import"./chunk-SK3Z2GDI.js";import"./chunk-QUJFQN2Y.js";import"./chunk-4JVC5FNE.js";import"./chunk-IH6E6YVF.js";import"./chunk-6Z6MJZ6J.js";import"./chunk-62QDCRAJ.js";import"./chunk-NWECPXNP.js";import"./chunk-I26NZKD3.js";import"./chunk-BMJVVMK5.js";import"./chunk-33R7V3D5.js";import"./chunk-I5OWKS3S.js";import"./chunk-SZ3K3J3X.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-3UBM7ASS.js";import"./chunk-CKP3SGE2.js";import"./chunk-KYKLHCVV.js";import{$ as b,C as m,D as e,E as n,F as g,L as y,M as p,N as u,Ta as E,Ua as N,V as w,W as a,X as I,Xa as D,Y as f,_,aa as C,ga as S,ha as T,j as M,k as v,ka as k,r as i,t as P,v as h,z as O}from"./chunk-NRXC3TAV.js";import"./chunk-XIBDAHXH.js";import"./chunk-XOKKKZEN.js";import"./chunk-N6OJSQJW.js";import"./chunk-H3HFVQ5W.js";import"./chunk-GYLY2RJE.js";import"./chunk-M2X7KQLB.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";function K(c,r){if(c&1){let d=y();e(0,"div",15)(1,"div",16)(2,"div",17)(3,"h2"),a(4),n(),e(5,"span",18),a(6),n()(),g(7,"ion-progress-bar",19),e(8,"p",20),a(9),n()(),e(10,"div",21)(11,"ion-button",22),p("click",function(){let s=M(d).$implicit,o=u();return v(o.tomarDosisManual(s))}),e(12,"div",23),g(13,"ion-icon",24),e(14,"span",25),a(15,"Restar 1"),n()()()()()}if(c&2){let d=r.$implicit,t=u();i(4),I(d.nombre),i(),w("low-stock",d.cantidadActual<=3),i(),f(" ",d.cantidadActual," restantes "),i(),m("value",d.progreso)("color",t.getColorBarra(d.progreso)),i(2),f("De ",d.cantidadInicial," unidades iniciales"),i(2),m("disabled",d.cantidadActual===0)}}function Q(c,r){c&1&&(e(0,"div",26)(1,"p"),a(2,"Tu botiqu\xEDn est\xE1 vac\xEDo."),n()())}var ie=(()=>{let r=class r{constructor(t){this.dataService=t,this.nuevoNombre="",this.nuevaCantidad=null,this.medicamentos=[]}ngOnInit(){this.dataService.medicamentos$.subscribe(t=>{this.medicamentos=t})}agregarMedicamento(){if(this.nuevoNombre.length===0||!this.nuevaCantidad)return;let t={nombre:this.nuevoNombre,cantidadInicial:this.nuevaCantidad,cantidadActual:this.nuevaCantidad,progreso:1};this.dataService.agregarMedicamento(t),this.nuevoNombre="",this.nuevaCantidad=null}tomarDosisManual(t){this.dataService.descontarDosis(t.nombre)}getColorBarra(t){return t>.5?"success":t>.2?"warning":"danger"}};r.\u0275fac=function(s){return new(s||r)(P(J))},r.\u0275cmp=h({type:r,selectors:[["app-tab5"]],decls:22,vars:6,consts:[[1,"ion-no-border",3,"translucent"],[1,"header-title"],[1,"bg-light","ion-padding",3,"fullscreen"],[1,"add-card"],["lines","none",1,"custom-input"],["slot","start","name","medkit-outline","color","primary"],["placeholder","Nombre (ej. Aspirina)",3,"ngModelChange","ngModel"],["slot","start","name","apps-outline","color","primary"],["type","number","placeholder","Cantidad Total (ej. 30)",3,"ngModelChange","ngModel"],["expand","block",1,"btn-add",3,"click"],["slot","start","name","add"],[1,"section-label"],[1,"inventory-list"],["class","med-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"med-card"],[1,"med-info"],[1,"top-row"],[1,"badge"],[1,"custom-progress",3,"value","color"],[1,"stats"],[1,"med-action"],["fill","clear",3,"click","disabled"],[1,"btn-column"],["name","remove-circle-outline",2,"font-size","28px"],[2,"font-size","10px"],[1,"empty-state"]],template:function(s,o){s&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),a(3,"Mi Botiqu\xEDn"),n()()(),e(4,"ion-content",2)(5,"div",3)(6,"h3"),a(7,"Nuevo Medicamento"),n(),e(8,"ion-item",4),g(9,"ion-icon",5),e(10,"ion-input",6),C("ngModelChange",function(l){return b(o.nuevoNombre,l)||(o.nuevoNombre=l),l}),n()(),e(11,"ion-item",4),g(12,"ion-icon",7),e(13,"ion-input",8),C("ngModelChange",function(l){return b(o.nuevaCantidad,l)||(o.nuevaCantidad=l),l}),n()(),e(14,"ion-button",9),p("click",function(){return o.agregarMedicamento()}),g(15,"ion-icon",10),a(16," Guardar en Inventario "),n()(),e(17,"h3",11),a(18,"Medicamentos Disponibles"),n(),e(19,"div",12),O(20,K,16,8,"div",13)(21,Q,3,0,"div",14),n()()),s&2&&(m("translucent",!0),i(4),m("fullscreen",!0),i(6),_("ngModel",o.nuevoNombre),i(3),_("ngModel",o.nuevaCantidad),i(7),m("ngForOf",o.medicamentos),i(),m("ngIf",o.medicamentos.length===0))},dependencies:[R,B,F,W,V,j,q,L,G,H,z,A,k,S,T,D,E,N],styles:["ion-content[_ngcontent-%COMP%]{--background: #f8f9fa}.header-title[_ngcontent-%COMP%]{font-weight:700;color:#333}.add-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:20px;box-shadow:0 4px 15px #0000000d;margin-bottom:25px}.add-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:16px;font-weight:700;color:#444;margin-bottom:15px}.custom-input[_ngcontent-%COMP%]{--background: #f0f4f8;border-radius:12px;margin-bottom:10px;--padding-start: 10px}.btn-add[_ngcontent-%COMP%]{margin-top:15px;--border-radius: 12px;--box-shadow: none;font-weight:600}.section-label[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin-left:5px;margin-bottom:15px}.med-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:15px 15px 15px 20px;margin-bottom:15px;display:flex;align-items:center;box-shadow:0 2px 8px #00000008}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]{flex:1}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:17px;font-weight:700;color:#222}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:12px;background:#e3edfb;color:#3880ff;padding:4px 10px;border-radius:10px;font-weight:600}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .badge.low-stock[_ngcontent-%COMP%]{background:#ffebee;color:#ef5350}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .custom-progress[_ngcontent-%COMP%]{height:8px;border-radius:4px;margin-bottom:5px}.med-card[_ngcontent-%COMP%]   .med-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{margin:0;font-size:11px;color:#999}.med-card[_ngcontent-%COMP%]   .med-action[_ngcontent-%COMP%]{margin-left:10px;border-left:1px solid #eee;padding-left:5px}.med-card[_ngcontent-%COMP%]   .med-action[_ngcontent-%COMP%]   .btn-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#3880ff}.empty-state[_ngcontent-%COMP%]{text-align:center;color:#aaa;margin-top:40px}"]});let c=r;return c})();export{ie as Tab5Page};
